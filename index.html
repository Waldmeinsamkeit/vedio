<!DOCTYPE html>
<html lang="zh-CN" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VideoStream - 极致视听体验</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        .dark ::-webkit-scrollbar-thumb {
            background: #475569;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* Hide scrollbar for horizontal containers but allow scroll */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Line Clamp for multi-line truncation */
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        /* Smooth fade for carousel */
        .fade-enter {
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        .fade-enter-active {
            opacity: 1;
        }
    </style>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        brand: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            500: '#0ea5e9', // Sky blue brand color
                            600: '#0284c7',
                            900: '#0c4a6e',
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-white transition-colors duration-300 overflow-x-hidden">

    <!-- 1. 顶部导航栏 -->
    <nav class="fixed top-0 w-full h-16 bg-white dark:bg-gray-800 shadow-sm z-50 flex items-center px-4 justify-between">
        <!-- Left: Logo & Menu Toggle -->
        <div class="flex items-center gap-4">
            <button id="sidebarToggle" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700">
                <i class="fa-solid fa-bars text-xl"></i>
            </button>
            <a href="#" class="flex items-center gap-2 group">
                <div class="w-8 h-8 bg-brand-500 rounded-lg flex items-center justify-center text-white font-bold text-lg">
                    <i class="fa-solid fa-play"></i>
                </div>
                <span class="text-xl font-bold tracking-tight group-hover:text-brand-500 transition-colors">StreamHub</span>
            </a>
        </div>

        <!-- Center: Search -->
        <div class="hidden md:flex flex-1 max-w-2xl mx-4 relative group">
            <div class="flex w-full">
                <input type="text" 
                    placeholder="搜索视频、番剧、UP主..." 
                    class="w-full h-10 pl-4 pr-12 rounded-l-full border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 focus:outline-none focus:border-brand-500 dark:focus:border-brand-500 transition-colors"
                    id="searchInput"
                >
                <button class="h-10 px-6 bg-gray-100 dark:bg-gray-700 border border-l-0 border-gray-300 dark:border-gray-600 rounded-r-full hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-500 dark:text-gray-300">
                    <i class="fa-solid fa-magnifying-glass"></i>
                </button>
                <button class="ml-2 w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 flex items-center justify-center text-gray-600 dark:text-gray-300">
                    <i class="fa-solid fa-microphone"></i>
                </button>
            </div>
            
            <!-- Search Suggestions (Hidden by default) -->
            <div id="searchSuggestions" class="absolute top-12 left-0 w-[calc(100%-3rem)] bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-100 dark:border-gray-700 hidden p-2 z-50">
                <div class="px-3 py-2 text-sm text-gray-400">历史搜索</div>
                <div class="flex flex-wrap gap-2 px-3 mb-2">
                    <span class="px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs cursor-pointer hover:text-brand-500">React教程</span>
                    <span class="px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs cursor-pointer hover:text-brand-500">原神启动</span>
                </div>
                <div class="px-3 py-2 text-sm text-gray-400">猜你想搜</div>
                <ul>
                    <li class="px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded cursor-pointer flex justify-between items-center group/item">
                        <span>2024年度热门电影</span>
                        <span class="text-xs text-brand-500 opacity-0 group-hover/item:opacity-100">热搜</span>
                    </li>
                    <li class="px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded cursor-pointer">
                        <span>如何制作网站</span>
                    </li>
                    <li class="px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded cursor-pointer">
                        <span>黑神话：悟空 实机演示</span>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Right: User Actions -->
        <div class="flex items-center gap-2 sm:gap-4">
            <!-- Theme Toggle -->
            <button id="themeToggle" class="w-10 h-10 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center text-gray-600 dark:text-gray-300 transition-transform active:scale-95">
                <i class="fa-solid fa-moon hidden dark:block"></i>
                <i class="fa-solid fa-sun block dark:hidden text-orange-500"></i>
            </button>

            <!-- Upload -->
            <button class="hidden sm:flex items-center gap-1 px-3 py-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-sm font-medium">
                <i class="fa-solid fa-arrow-up-from-bracket text-lg"></i>
                <span>投稿</span>
            </button>

            <!-- Messages -->
            <button class="relative w-10 h-10 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center">
                <i class="fa-regular fa-bell text-lg"></i>
                <span class="absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full border-2 border-white dark:border-gray-800"></span>
            </button>

            <!-- User Avatar (Logged In State) -->
            <div class="relative group cursor-pointer">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="User" class="w-9 h-9 rounded-full border border-gray-200 dark:border-gray-600 bg-gray-100">
                <!-- Dropdown -->
                <div class="absolute right-0 top-10 w-64 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-100 dark:border-gray-700 hidden group-hover:block pt-2">
                    <div class="p-4 border-b border-gray-100 dark:border-gray-700">
                        <div class="font-bold text-lg">DevUser_01</div>
                        <div class="text-xs text-gray-500 dark:text-gray-400 flex gap-3 mt-2">
                            <span>关注 12</span>
                            <span>粉丝 305</span>
                        </div>
                    </div>
                    <ul class="py-2">
                        <li class="px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3 text-sm">
                            <i class="fa-regular fa-user w-4"></i> 个人中心
                        </li>
                        <li class="px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3 text-sm">
                            <i class="fa-solid fa-clock-rotate-left w-4"></i> 观看历史
                        </li>
                        <li class="px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3 text-sm">
                            <i class="fa-regular fa-star w-4"></i> 我的收藏
                        </li>
                        <li class="px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3 text-sm text-red-500">
                            <i class="fa-solid fa-arrow-right-from-bracket w-4"></i> 退出登录
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <!-- Layout Container -->
    <div class="flex pt-16 min-h-screen">
        
        <!-- 2. 侧边栏 Sidebar -->
        <aside id="sidebar" class="fixed left-0 top-16 h-[calc(100vh-4rem)] w-16 md:w-60 bg-white dark:bg-gray-800 overflow-y-auto z-40 transition-all duration-300 border-r border-gray-100 dark:border-gray-700 hidden md:block group/sidebar">
            
            <!-- Main Nav -->
            <div class="py-3 px-2 border-b border-gray-100 dark:border-gray-700">
                <a href="#" class="flex items-center gap-4 px-3 py-2.5 rounded-lg bg-brand-50 dark:bg-brand-900/30 text-brand-600 dark:text-brand-400 font-medium mb-1">
                    <i class="fa-solid fa-house text-lg w-6 text-center"></i>
                    <span class="hidden md:block">首页</span>
                </a>
                <a href="#" class="flex items-center gap-4 px-3 py-2.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 mb-1">
                    <i class="fa-solid fa-fire text-lg w-6 text-center"></i>
                    <span class="hidden md:block">热门</span>
                </a>
                <a href="#" class="flex items-center gap-4 px-3 py-2.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 mb-1">
                    <i class="fa-brands fa-youtube text-lg w-6 text-center"></i>
                    <span class="hidden md:block">订阅</span>
                </a>
                 <a href="#" class="flex items-center gap-4 px-3 py-2.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300">
                    <i class="fa-solid fa-layer-group text-lg w-6 text-center"></i>
                    <span class="hidden md:block">动态</span>
                </a>
            </div>

            <!-- My Section -->
            <div class="py-3 px-2 border-b border-gray-100 dark:border-gray-700 hidden md:block">
                <h3 class="px-3 text-xs font-bold text-gray-500 uppercase mb-2">我的</h3>
                <a href="#" class="flex items-center gap-4 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm">
                    <i class="fa-solid fa-clock-rotate-left w-6 text-center"></i>
                    <span>历史记录</span>
                </a>
                <a href="#" class="flex items-center gap-4 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm">
                    <i class="fa-regular fa-thumbs-up w-6 text-center"></i>
                    <span>赞过的视频</span>
                </a>
                <a href="#" class="flex items-center gap-4 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm">
                    <i class="fa-regular fa-clock w-6 text-center"></i>
                    <span>稍后再看</span>
                </a>
            </div>

            <!-- Channels -->
            <div class="py-3 px-2 hidden md:block">
                <h3 class="px-3 text-xs font-bold text-gray-500 uppercase mb-2">频道</h3>
                 <a href="#" class="flex items-center gap-4 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm">
                    <i class="fa-solid fa-film w-6 text-center"></i>
                    <span>电影 & 影视</span>
                </a>
                 <a href="#" class="flex items-center gap-4 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm">
                    <i class="fa-solid fa-gamepad w-6 text-center"></i>
                    <span>游戏中心</span>
                </a>
                <a href="#" class="flex items-center gap-4 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm">
                    <i class="fa-solid fa-music w-6 text-center"></i>
                    <span>音乐现场</span>
                </a>
                 <a href="#" class="flex items-center gap-4 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm">
                    <i class="fa-solid fa-graduation-cap w-6 text-center"></i>
                    <span>知识科普</span>
                </a>
            </div>

             <!-- Footer Links in Sidebar -->
            <div class="p-4 text-xs text-gray-400 leading-relaxed hidden md:block">
                <p><a href="#" class="hover:underline">关于我们</a> • <a href="#" class="hover:underline">联系方式</a></p>
                <p><a href="#" class="hover:underline">隐私政策</a> • <a href="#" class="hover:underline">用户协议</a></p>
                <p class="mt-2">© 2024 StreamHub</p>
            </div>
        </aside>

        <!-- Main Content -->
        <main id="mainContent" class="flex-1 ml-0 md:ml-60 transition-all duration-300">
            
            <!-- 4. 内容分类导航 (Sticky) -->
            <div class="sticky top-16 bg-white/95 dark:bg-gray-900/95 backdrop-blur z-30 border-b border-gray-100 dark:border-gray-800 px-4 py-2 flex items-center gap-2 overflow-x-auto no-scrollbar">
                <button class="px-4 py-1.5 rounded-lg bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-medium text-sm whitespace-nowrap">全部</button>
                <button class="px-4 py-1.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-sm whitespace-nowrap">直播</button>
                <button class="px-4 py-1.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-sm whitespace-nowrap">动画</button>
                <button class="px-4 py-1.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-sm whitespace-nowrap">游戏</button>
                <button class="px-4 py-1.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-sm whitespace-nowrap">影视</button>
                <button class="px-4 py-1.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-sm whitespace-nowrap">音乐</button>
                <button class="px-4 py-1.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-sm whitespace-nowrap">科技</button>
                <button class="px-4 py-1.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-sm whitespace-nowrap">数码</button>
                <button class="px-4 py-1.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-sm whitespace-nowrap">生活</button>
                <button class="px-4 py-1.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-sm whitespace-nowrap">时尚</button>
                <button class="px-4 py-1.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-sm whitespace-nowrap">美食</button>
                <button class="px-4 py-1.5 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-sm whitespace-nowrap">Vlog</button>
            </div>

            <div class="p-6 space-y-10">
                
                <!-- 2. 顶部轮播图 (Hero) -->
                <section class="relative rounded-2xl overflow-hidden aspect-[21/9] md:aspect-[32/9] lg:aspect-[21/8] bg-gray-800 group">
                    <div id="carouselContainer" class="w-full h-full relative">
                        <!-- Images will be injected by JS -->
                    </div>
                    <!-- Carousel Controls -->
                    <button id="prevSlide" class="absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-black/30 hover:bg-black/50 text-white flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity backdrop-blur-sm">
                        <i class="fa-solid fa-chevron-left"></i>
                    </button>
                    <button id="nextSlide" class="absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-black/30 hover:bg-black/50 text-white flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity backdrop-blur-sm">
                        <i class="fa-solid fa-chevron-right"></i>
                    </button>
                    <!-- Dots -->
                    <div id="carouselDots" class="absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2">
                        <!-- Dots injected by JS -->
                    </div>
                    <!-- Content Overlay -->
                     <div class="absolute bottom-0 left-0 w-full p-4 md:p-8 bg-gradient-to-t from-black/80 to-transparent pointer-events-none">
                        <h2 id="heroTitle" class="text-2xl md:text-4xl font-bold text-white mb-2 drop-shadow-md"></h2>
                        <p id="heroDesc" class="text-white/80 line-clamp-1 md:line-clamp-2 max-w-2xl mb-4 text-sm md:text-base"></p>
                        <button class="pointer-events-auto px-6 py-2 bg-brand-500 hover:bg-brand-600 text-white rounded-lg font-medium transition-colors flex items-center gap-2">
                            <i class="fa-solid fa-play"></i> 立即观看
                        </button>
                    </div>
                </section>

                <!-- 5. 横向内容切片：继续观看 -->
                <section>
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-xl font-bold flex items-center gap-2">
                            <i class="fa-solid fa-clock-rotate-left text-brand-500"></i> 继续观看
                        </h2>
                        <button class="text-sm text-gray-500 hover:text-brand-500">查看全部 <i class="fa-solid fa-chevron-right text-xs"></i></button>
                    </div>
                    <div id="continueWatchingContainer" class="flex gap-4 overflow-x-auto no-scrollbar pb-2 scroll-smooth">
                        <!-- JS generated -->
                    </div>
                </section>

                <!-- 3. 核心个性化推荐 Feed Grid -->
                <section>
                    <div class="flex items-center gap-4 mb-4">
                        <h2 class="text-xl font-bold">推荐视频</h2>
                        <div class="flex gap-2 text-sm text-gray-500">
                            <button class="px-3 py-1 bg-gray-100 dark:bg-gray-800 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 text-brand-500 font-medium">默认</button>
                            <button class="px-3 py-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors">最新</button>
                            <button class="px-3 py-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors">最热</button>
                        </div>
                    </div>
                    
                    <div id="feedGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-y-8 gap-x-4">
                        <!-- Cards will be injected here -->
                    </div>
                    
                    <!-- Infinite Scroll Loader -->
                    <div class="py-10 text-center">
                        <button id="loadMoreBtn" class="px-8 py-2 rounded-full border border-gray-300 dark:border-gray-700 text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors">
                            加载更多内容
                        </button>
                    </div>
                </section>

                <!-- 5. 热门榜单 (Sidebar style inside main or another row) -->
                 <section class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Ranking Column -->
                    <div class="lg:col-span-1 bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-100 dark:border-gray-700">
                        <h3 class="font-bold text-lg mb-4 flex items-center gap-2">
                            <i class="fa-solid fa-trophy text-yellow-500"></i> 全站排行榜
                        </h3>
                        <ul class="space-y-3" id="rankingList">
                            <!-- JS Generated -->
                        </ul>
                    </div>
                    
                    <!-- Special Column: Exclusive Content -->
                    <div class="lg:col-span-2">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="font-bold text-lg flex items-center gap-2">
                                <i class="fa-solid fa-crown text-purple-500"></i> 独家出品
                            </h3>
                        </div>
                        <div class="grid grid-cols-2 gap-4" id="exclusiveGrid">
                            <!-- JS Generated -->
                        </div>
                    </div>
                </section>

            </div>

            <!-- Footer -->
            <footer class="bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700 mt-10 py-10 px-6">
                <div class="max-w-7xl mx-auto grid grid-cols-2 md:grid-cols-4 gap-8">
                    <div>
                        <h4 class="font-bold mb-4">关于我们</h4>
                        <ul class="space-y-2 text-sm text-gray-500 dark:text-gray-400">
                            <li><a href="#" class="hover:text-brand-500">关于 StreamHub</a></li>
                            <li><a href="#" class="hover:text-brand-500">加入我们</a></li>
                            <li><a href="#" class="hover:text-brand-500">联系方式</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold mb-4">帮助中心</h4>
                        <ul class="space-y-2 text-sm text-gray-500 dark:text-gray-400">
                            <li><a href="#" class="hover:text-brand-500">用户协议</a></li>
                            <li><a href="#" class="hover:text-brand-500">隐私政策</a></li>
                            <li><a href="#" class="hover:text-brand-500">侵权申诉</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold mb-4">传送门</h4>
                        <ul class="space-y-2 text-sm text-gray-500 dark:text-gray-400">
                            <li><a href="#" class="hover:text-brand-500">活动专题</a></li>
                            <li><a href="#" class="hover:text-brand-500">黑板报</a></li>
                            <li><a href="#" class="hover:text-brand-500">创作中心</a></li>
                        </ul>
                    </div>
                     <div>
                        <h4 class="font-bold mb-4">关注我们</h4>
                        <div class="flex gap-4">
                            <a href="#" class="w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center hover:bg-brand-500 hover:text-white transition-colors"><i class="fa-brands fa-weixin"></i></a>
                            <a href="#" class="w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center hover:bg-brand-500 hover:text-white transition-colors"><i class="fa-brands fa-weibo"></i></a>
                            <a href="#" class="w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center hover:bg-brand-500 hover:text-white transition-colors"><i class="fa-brands fa-bilibili"></i></a>
                        </div>
                         <p class="mt-4 text-xs text-gray-400">© 2024 StreamHub Tech Ltd.</p>
                    </div>
                </div>
            </footer>

        </main>
    </div>

    <!-- JavaScript Logic -->
    <script>
        // --- Data Models ---
        const carouselData = [
            {
                title: "黑神话：悟空 全球独家首测",
                desc: "国产3A大作实机演示，直面天命，重走西游路。",
                image: "https://images.unsplash.com/photo-1605901309584-818e25960b8f?q=80&w=1600&auto=format&fit=crop" // Game vibe
            },
            {
                title: "2024 环球科技大会直播",
                desc: "探索未来的边界，AI如何重塑我们的生活？",
                image: "https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=1600&auto=format&fit=crop" // Tech vibe
            },
            {
                title: "绝美纪录片：蓝色星球",
                desc: "深入海洋最深处，发现未知的生命奇迹。",
                image: "https://images.unsplash.com/photo-1682687220742-aba13b6e50ba?q=80&w=1600&auto=format&fit=crop" // Nature vibe
            },
            {
                title: "新海诚新作：《追逐繁星的孩子》",
                desc: "跨越时空的爱恋，每一帧都是壁纸。",
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?q=80&w=1600&auto=format&fit=crop" // Anime vibe
            }
        ];

        const users = [
            { name: "TechReviewer", avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=Alex" },
            { name: "GameMaster", avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=Bob" },
            { name: "ChefAnna", avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=Anna" },
            { name: "TravelLog", avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=David" }
        ];

        function generateVideoData(count) {
            const titles = [
                "10分钟学会React Hooks", "RTX 5090 性能首爆！", "独自一人露营暴雨夜", 
                "这道菜千万不要晚上看", "猫咪的迷惑行为大赏", "原神 4.5版本前瞻", 
                "如何用Python自动化办公", "30天减肥挑战实录", "我的世界：建造史诗城堡",
                "带你云游瑞士雪山", "深度解析：诺兰电影宇宙", "2024年最好的手机是哪款？"
            ];
            
            return Array.from({ length: count }, (_, i) => ({
                id: i,
                title: titles[Math.floor(Math.random() * titles.length)] + ` #${i+1}`,
                cover: `https://picsum.photos/seed/${i + 100}/400/225`,
                avatar: users[Math.floor(Math.random() * users.length)].avatar,
                author: users[Math.floor(Math.random() * users.length)].name,
                views: (Math.random() * 100).toFixed(1) + "万",
                date: Math.floor(Math.random() * 11) + 1 + "个月前",
                duration: `${Math.floor(Math.random() * 20)}:${Math.floor(Math.random() * 60).toString().padStart(2, '0')}`,
                progress: Math.random() > 0.5 ? Math.floor(Math.random() * 90) : 0 // 0-100%
            }));
        }

        // --- Component Renderers ---

        function createVideoCard(video, isHorizontal = false) {
            const progressHtml = video.progress > 0 
                ? `<div class="absolute bottom-0 left-0 h-1 bg-red-500 z-10" style="width: ${video.progress}%"></div>` 
                : '';
            
            const widthClass = isHorizontal ? 'min-w-[260px] w-[260px]' : 'w-full';

            return `
                <div class="group flex flex-col gap-2 cursor-pointer ${widthClass}">
                    <div class="relative rounded-xl overflow-hidden aspect-video bg-gray-200 dark:bg-gray-700">
                        <img src="${video.cover}" alt="${video.title}" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300">
                        <div class="absolute bottom-1 right-1 bg-black/80 text-white text-xs px-1.5 py-0.5 rounded font-medium">
                            ${video.duration}
                        </div>
                        ${progressHtml}
                        <!-- Hover Play Overlay (Simulated) -->
                        <div class="absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
                             <i class="fa-solid fa-play text-white text-3xl drop-shadow-lg"></i>
                        </div>
                    </div>
                    <div class="flex gap-3 items-start">
                        <img src="${video.avatar}" class="w-9 h-9 rounded-full bg-gray-100 flex-shrink-0 mt-0.5" alt="avatar">
                        <div class="flex flex-col gap-0.5">
                            <h3 class="text-sm font-bold text-gray-900 dark:text-white line-clamp-2 leading-snug group-hover:text-brand-500 transition-colors">
                                ${video.title}
                            </h3>
                            <div class="text-xs text-gray-500 dark:text-gray-400">
                                <a href="#" class="hover:text-gray-700 dark:hover:text-gray-300">${video.author}</a>
                            </div>
                            <div class="text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1">
                                <span>${video.views}播放</span>
                                <span class="text-[10px]">•</span>
                                <span>${video.date}</span>
                            </div>
                        </div>
                        <div class="ml-auto opacity-0 group-hover:opacity-100 transition-opacity">
                            <button class="text-gray-500 hover:text-gray-800 dark:hover:text-gray-200"><i class="fa-solid fa-ellipsis-vertical"></i></button>
                        </div>
                    </div>
                </div>
            `;
        }

        function createRankingItem(video, index) {
            const rankColors = ["text-red-500", "text-orange-500", "text-yellow-500"];
            const rankColor = index < 3 ? rankColors[index] : "text-gray-400";
            
            return `
                <li class="flex gap-3 group cursor-pointer">
                    <div class="font-bold text-xl italic w-6 text-center ${rankColor}">${index + 1}</div>
                    <div class="relative w-28 h-16 rounded-lg overflow-hidden flex-shrink-0 bg-gray-200">
                        <img src="${video.cover}" class="w-full h-full object-cover" alt="rank">
                    </div>
                    <div class="flex-1 min-w-0">
                        <h4 class="text-sm font-medium line-clamp-2 group-hover:text-brand-500 transition-colors">${video.title}</h4>
                        <div class="text-xs text-gray-400 mt-1">UP ${video.author}</div>
                        <div class="text-xs text-gray-400"><i class="fa-solid fa-fire text-red-400 mr-1"></i>${Math.floor(Math.random()*1000)}万</div>
                    </div>
                </li>
            `;
        }

        // --- Initialization Logic ---

        document.addEventListener('DOMContentLoaded', () => {
            
            // 1. Theme Toggle
            const themeToggle = document.getElementById('themeToggle');
            const html = document.documentElement;
            themeToggle.addEventListener('click', () => {
                html.classList.toggle('dark');
            });

            // 1.5 Language Selector Logic
            window.changeLanguage = function(lang) {
                // Visual feedback for selection (Mock)
                const buttons = document.querySelectorAll('[onclick^="changeLanguage"]');
                buttons.forEach(btn => {
                    const isSelected = btn.getAttribute('onclick').includes(`'${lang}'`);
                    const checkIcon = btn.querySelector('.fa-check');
                    const span = btn.querySelector('span');
                    
                    if (isSelected) {
                        btn.classList.add('text-brand-500', 'font-medium', 'bg-brand-50', 'dark:bg-brand-900/20');
                        btn.classList.remove('text-gray-700', 'dark:text-gray-200');
                        if(!checkIcon) {
                            const icon = document.createElement('i');
                            icon.className = 'fa-solid fa-check text-xs';
                            btn.appendChild(icon);
                        }
                    } else {
                        btn.classList.remove('text-brand-500', 'font-medium', 'bg-brand-50', 'dark:bg-brand-900/20');
                        btn.classList.add('text-gray-700', 'dark:text-gray-200');
                        if(checkIcon) checkIcon.remove();
                    }
                });
                
                // Mock alert to show functionality
                const langNames = { 'zh': '简体中文', 'en': 'English', 'jp': '日本語' };
                // In a real app, this would trigger a robust i18n update
                console.log(`Language switched to: ${langNames[lang]}`);
                
                // Simple text replacement demo for Nav
                if (lang === 'en') {
                    document.querySelector('input[placeholder]').placeholder = "Search videos, anime, creators...";
                } else if (lang === 'zh') {
                    document.querySelector('input[placeholder]').placeholder = "搜索视频、番剧、UP主...";
                } else if (lang === 'jp') {
                    document.querySelector('input[placeholder]').placeholder = "動画、アニメ、クリエイターを検索...";
                }
            };

            // 2. Sidebar Toggle
            const sidebarToggle = document.getElementById('sidebarToggle');
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.getElementById('mainContent');
            
            sidebarToggle.addEventListener('click', () => {
                sidebar.classList.toggle('-translate-x-full'); // Hide on mobile
                sidebar.classList.toggle('md:w-16'); // Collapse on desktop
                sidebar.classList.toggle('md:w-60'); // Expand on desktop
                
                // Handle main margin
                if(window.innerWidth >= 768) {
                    mainContent.classList.toggle('md:ml-16');
                    mainContent.classList.toggle('md:ml-60');
                }
                
                // Hide text in sidebar if collapsed
                const texts = sidebar.querySelectorAll('span');
                texts.forEach(t => {
                   if(window.innerWidth >= 768 && sidebar.classList.contains('md:w-16')) {
                       t.classList.add('hidden');
                   } else if (window.innerWidth >= 768) {
                       t.classList.remove('hidden');
                   }
                });
            });

            // 3. Search Suggestions
            const searchInput = document.getElementById('searchInput');
            const searchSuggestions = document.getElementById('searchSuggestions');
            searchInput.addEventListener('focus', () => searchSuggestions.classList.remove('hidden'));
            searchInput.addEventListener('blur', () => setTimeout(() => searchSuggestions.classList.add('hidden'), 200));

            // 4. Render Carousel
            let currentSlide = 0;
            const carouselContainer = document.getElementById('carouselContainer');
            const heroTitle = document.getElementById('heroTitle');
            const heroDesc = document.getElementById('heroDesc');
            const dotsContainer = document.getElementById('carouselDots');
            
            // Create Slide Elements (Only images)
            carouselData.forEach((slide, index) => {
                const img = document.createElement('img');
                img.src = slide.image;
                img.className = `absolute top-0 left-0 w-full h-full object-cover transition-opacity duration-500 ${index === 0 ? 'opacity-100' : 'opacity-0'}`;
                img.id = `slide-${index}`;
                carouselContainer.appendChild(img);

                // Dot
                const dot = document.createElement('button');
                dot.className = `w-2 h-2 rounded-full transition-all ${index === 0 ? 'bg-white w-6' : 'bg-white/50'}`;
                dot.onclick = () => setSlide(index);
                dotsContainer.appendChild(dot);
            });

            function setSlide(index) {
                // Update Images
                document.getElementById(`slide-${currentSlide}`).classList.remove('opacity-100');
                document.getElementById(`slide-${currentSlide}`).classList.add('opacity-0');
                
                currentSlide = index;
                
                document.getElementById(`slide-${currentSlide}`).classList.remove('opacity-0');
                document.getElementById(`slide-${currentSlide}`).classList.add('opacity-100');

                // Update Text
                heroTitle.textContent = carouselData[index].title;
                heroDesc.textContent = carouselData[index].desc;

                // Update Dots
                Array.from(dotsContainer.children).forEach((dot, i) => {
                    dot.className = `w-2 h-2 rounded-full transition-all ${i === currentSlide ? 'bg-white w-6' : 'bg-white/50'}`;
                });
            }

            // Init first text
            heroTitle.textContent = carouselData[0].title;
            heroDesc.textContent = carouselData[0].desc;

            // Auto Play
            setInterval(() => {
                setSlide((currentSlide + 1) % carouselData.length);
            }, 5000);

            document.getElementById('prevSlide').onclick = () => setSlide((currentSlide - 1 + carouselData.length) % carouselData.length);
            document.getElementById('nextSlide').onclick = () => setSlide((currentSlide + 1) % carouselData.length);


            // 5. Render Content Sections
            
            // Continue Watching
            const continueVideos = generateVideoData(6).map(v => {v.progress = Math.floor(Math.random() * 80) + 10; return v;});
            document.getElementById('continueWatchingContainer').innerHTML = continueVideos.map(v => createVideoCard(v, true)).join('');

            // Feed Grid
            const feedVideos = generateVideoData(15);
            const feedGrid = document.getElementById('feedGrid');
            feedGrid.innerHTML = feedVideos.map(v => createVideoCard(v)).join('');

            // Ranking
            const rankVideos = generateVideoData(5);
            document.getElementById('rankingList').innerHTML = rankVideos.map((v, i) => createRankingItem(v, i)).join('');

            // Exclusive
            const exclusiveVideos = generateVideoData(2);
            document.getElementById('exclusiveGrid').innerHTML = exclusiveVideos.map(v => createVideoCard(v)).join('');

            // Load More
            document.getElementById('loadMoreBtn').addEventListener('click', () => {
                const newVideos = generateVideoData(10);
                const newHtml = newVideos.map(v => createVideoCard(v)).join('');
                feedGrid.insertAdjacentHTML('beforeend', newHtml);
            });
        });
    </script>
</body>
</html>